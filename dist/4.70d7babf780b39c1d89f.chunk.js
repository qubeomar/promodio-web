webpackJsonp([4],{1018:function(t,e,n){"use strict";function i(t){return void 0===t||null===t}var o=n(1),r=n(964),a=n(1019),s=(function(){function t(t,e){this.fb=t,this.elementRef=e,this.addOnBlur=!0,this.addOnComma=!0,this.addOnEnter=!0,this.addOnPaste=!0,this.addOnSpace=!1,this.allowDuplicates=!1,this.allowedTagsPattern=/.+/,this.autocomplete=!1,this.autocompleteItems=[],this.autocompleteMustMatch=!0,this.autocompleteSelectFirstItem=!0,this.pasteSplitPattern=",",this.placeholder="Add a tag",this.addTag=new o.EventEmitter,this.removeTag=new o.EventEmitter,this.canShowAutoComplete=!1,this.autocompleteResults=[],this.tagsList=[],this.onChange=function(){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"tagInputField",{get:function(){return this.tagInputForm.get("tagInputField")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return this.tagInputField.value},enumerable:!0,configurable:!0}),t.prototype.onDocumentClick=function(t,e){e&&(this.elementRef.nativeElement.contains(e)||(this.canShowAutoComplete=!1))},t.prototype.ngOnInit=function(){var t=this;this.splitRegExp=new RegExp(this.pasteSplitPattern),this.tagInputForm=this.fb.group({tagInputField:""}),this.tagInputSubscription=this.tagInputField.valueChanges.do((function(e){t.autocompleteResults=t.autocompleteItems.filter((function(n){return n.toLowerCase().indexOf(e.toLowerCase())>-1&&t._isTagUnique(n)}))})).subscribe()},t.prototype.onKeydown=function(t){switch(t.keyCode){case a.KEYS.backspace:this._handleBackspace();break;case a.KEYS.enter:this.addOnEnter&&!this.showAutocomplete()&&(this._addTags([this.inputValue]),t.preventDefault());break;case a.KEYS.comma:this.addOnComma&&(this._addTags([this.inputValue]),t.preventDefault());break;case a.KEYS.space:this.addOnSpace&&(this._addTags([this.inputValue]),t.preventDefault())}},t.prototype.onInputBlurred=function(t){this.addOnBlur&&this._addTags([this.inputValue]),this.isFocused=!1},t.prototype.onInputFocused=function(){var t=this;this.isFocused=!0,setTimeout((function(){return t.canShowAutoComplete=!0}))},t.prototype.onInputPaste=function(t){var e=this,n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,i=n.getData("text/plain"),o=this._splitString(i);this._addTags(o),setTimeout((function(){return e._resetInput()}))},t.prototype.onAutocompleteSelect=function(t){this._addTags([t]),this.tagInputElement.nativeElement.focus()},t.prototype.onAutocompleteEnter=function(){this.addOnEnter&&this.showAutocomplete()&&!this.autocompleteMustMatch&&this._addTags([this.inputValue])},t.prototype.showAutocomplete=function(){return this.autocomplete&&this.autocompleteItems&&this.autocompleteItems.length>0&&this.canShowAutoComplete&&this.inputValue.length>0},t.prototype._splitString=function(t){return t=t.trim(),t.split(this.splitRegExp).filter((function(t){return!!t}))},t.prototype._isTagValid=function(t){return this.allowedTagsPattern.test(t)&&this._isTagUnique(t)},t.prototype._isTagUnique=function(t){return!!this.allowDuplicates||-1===this.tagsList.indexOf(t)},t.prototype._isTagAutocompleteItem=function(t){return this.autocompleteItems.indexOf(t)>-1},t.prototype._emitTagAdded=function(t){var e=this;t.forEach((function(t){return e.addTag.emit(t)}))},t.prototype._emitTagRemoved=function(t){this.removeTag.emit(t)},t.prototype._addTags=function(t){var e=this,n=t.map((function(t){return t.trim()})).filter((function(t){return e._isTagValid(t)})).filter((function(t,e,n){return n.indexOf(t)===e})).filter((function(t){return!e.showAutocomplete()||!e.autocompleteMustMatch||e._isTagAutocompleteItem(t)}));this.tagsList=this.tagsList.concat(n),this._resetSelected(),this._resetInput(),this.onChange(this.tagsList),this._emitTagAdded(n)},t.prototype._removeTag=function(t){var e=this.tagsList[t];this.tagsList.splice(t,1),this._resetSelected(),this.onChange(this.tagsList),this._emitTagRemoved(e)},t.prototype._handleBackspace=function(){!this.inputValue.length&&this.tagsList.length&&(i(this.selectedTag)?this.selectedTag=this.tagsList.length-1:this._removeTag(this.selectedTag))},t.prototype._resetSelected=function(){this.selectedTag=null},t.prototype._resetInput=function(){this.tagInputField.setValue("")},t.prototype.writeValue=function(t){this.tagsList=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.ngOnDestroy=function(){this.tagInputSubscription.unsubscribe()},t.decorators=[{type:o.Component,args:[{selector:"rl-tag-input",template:'\n    <rl-tag-input-item\n      [text]="tag"\n      [index]="index"\n      [selected]="selectedTag === index"\n      (tagRemoved)="_removeTag($event)"\n      *ngFor="let tag of tagsList; let index = index">\n    </rl-tag-input-item>\n    <form [formGroup]="tagInputForm" class="ng2-tag-input-form">\n      <input\n        class="ng2-tag-input-field"\n        type="text"\n        #tagInputElement\n        formControlName="tagInputField"\n        [placeholder]="placeholder"\n        (paste)="onInputPaste($event)"\n        (keydown)="onKeydown($event)"\n        (blur)="onInputBlurred($event)"\n        (focus)="onInputFocused()">\n\n      <div *ngIf="showAutocomplete()" class="rl-tag-input-autocomplete-container">\n        <rl-tag-input-autocomplete\n          [items]="autocompleteResults"\n          [selectFirstItem]="autocompleteSelectFirstItem"\n          (itemSelected)="onAutocompleteSelect($event)"\n          (enterPressed)="onAutocompleteEnter($event)">\n        </rl-tag-input-autocomplete>\n      </div>\n    </form>\n  ',styles:['\n    :host {\n      font-family: "Roboto", "Helvetica Neue", sans-serif;\n      font-size: 16px;\n      display: block;\n      box-shadow: 0 1px #ccc;\n      padding: 8px 0 6px 0;\n      will-change: box-shadow;\n      transition: box-shadow 0.12s ease-out;\n    }\n\n     :host .ng2-tag-input-form {\n      display: inline;\n    }\n\n     :host .ng2-tag-input-field {\n      font-family: "Roboto", "Helvetica Neue", sans-serif;\n      font-size: 16px;\n      display: inline-block;\n      width: auto;\n      box-shadow: none;\n      border: 0;\n      padding: 8px 0;\n    }\n\n     :host .ng2-tag-input-field:focus {\n      outline: 0;\n    }\n\n     :host .rl-tag-input-autocomplete-container {\n      position: relative;\n      z-index: 10;\n    }\n\n    :host.ng2-tag-input-focus {\n      box-shadow: 0 2px #0d8bff;\n    }\n  '],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:o.forwardRef((function(){return t})),multi:!0}]}]}],t.ctorParameters=[{type:r.FormBuilder},{type:o.ElementRef}],t.propDecorators={isFocused:[{type:o.HostBinding,args:["class.ng2-tag-input-focus"]}],addOnBlur:[{type:o.Input}],addOnComma:[{type:o.Input}],addOnEnter:[{type:o.Input}],addOnPaste:[{type:o.Input}],addOnSpace:[{type:o.Input}],allowDuplicates:[{type:o.Input}],allowedTagsPattern:[{type:o.Input}],autocomplete:[{type:o.Input}],autocompleteItems:[{type:o.Input}],autocompleteMustMatch:[{type:o.Input}],autocompleteSelectFirstItem:[{type:o.Input}],pasteSplitPattern:[{type:o.Input}],placeholder:[{type:o.Input}],addTag:[{type:o.Output,args:["addTag"]}],removeTag:[{type:o.Output,args:["removeTag"]}],tagInputElement:[{type:o.ViewChild,args:["tagInputElement"]}],onDocumentClick:[{type:o.HostListener,args:["document:click",["$event","$event.target"]]}]},t})();e.TagInputComponent=s},1019:function(t,e,n){"use strict";e.KEYS={backspace:8,comma:188,downArrow:40,enter:13,esc:27,space:32,upArrow:38}},1020:function(t,e,n){t.exports=n.p+"f6d606fae89d0b43647d5c1be02d1988.png"},1027:function(t,e,n){"use strict";var i=n(39),o=n(1),r=n(985);n.d(e,"a",(function(){return a}));var a=(function(){function t(t){this.artistService=t,this.onready=new o.EventEmitter,this.membersURL="artist/{{artist_id}}/members"}return t.prototype.ngOnInit=function(){this.getMembers()},t.prototype.getMembers=function(){var t=this;this.artistService.getArtistMembers(this.artistID).subscribe((function(e){t.members=e}),(function(t){throw console.error(t),new Error("Can't get artist members")}))},t.prototype.submitStage=function(){this.onready.emit()},t})();i.a([n.i(o.Input)(),i.b("design:type",String)],a.prototype,"artistID",void 0),i.a([n.i(o.Output)(),i.b("design:type",Object)],a.prototype,"onready",void 0),a=i.a([n.i(o.Component)({selector:"artist-registration-members",template:n(1091),styles:[n(1109)]}),i.b("design:paramtypes",[r.a])],a)},1028:function(t,e,n){"use strict";var i=n(39),o=n(1);n.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.elementRef=t,this.onready=new o.EventEmitter,this.stateID=0,this.dragActive=!1,this.maxFileSize=5,this.error=""}return t.prototype.submitStage=function(){this.onready.emit()},t.prototype.drop=function(t){var e=this;if(console.log(t.dataTransfer.files),this.dragActive=!1,t.dataTransfer.files[0].size>1e6*this.maxFileSize?this.error="File is too big":t.dataTransfer.files[0].type.match(/^image\/(jpeg|jpg|png|gif|tiff|bmp)/)?1!==t.dataTransfer.files.length&&(this.error="You need to load one file per time."):this.error="It's not the image file",!this.error){this.stateID=1;var n=new FileReader;n.readAsDataURL(t.dataTransfer.files[0]),n.onload=function(t){var n=e.findCroppingContainer();if(n){var i=new Image;i.src=t.target.result,n.appendChild(i)}}}t.stopPropagation(),t.preventDefault()},t.prototype.dragOver=function(t){return this.dragActive=!0,t.dataTransfer.dropEffect="copy",!1},t.prototype.dragEnd=function(t){return this.error="",!1},t.prototype.dragLeave=function(){this.dragActive=!1},t.prototype.crop=function(){this.stateID=2},t.prototype.changeStateID=function(t){this.stateID=t},t.prototype.findCroppingContainer=function(){return this.elementRef.nativeElement.querySelector(".imageWrapper")||null},t})();i.a([n.i(o.Input)(),i.b("design:type",String)],r.prototype,"artistID",void 0),i.a([n.i(o.Output)(),i.b("design:type",o.EventEmitter)],r.prototype,"onready",void 0),r=i.a([n.i(o.Component)({selector:"artist-registration-photo",template:n(1092),styles:[n(1110)]}),i.b("design:paramtypes",[o.ElementRef])],r)},1029:function(t,e,n){"use strict";var i=n(39),o=n(1),r=n(964),a=n(260),s=n(1017),p=n(1016);n.d(e,"a",(function(){return d}));var d=l=(function(){function t(t,e){this.builder=t,this.http=e,this.onready=new o.EventEmitter,this.nameField=new r.FormControl("",[l.checkText]),this.descriptionField=new r.FormControl("",[l.checkDescription]),this.artistProfileForm=this.builder.group({name:this.nameField,description:this.descriptionField}),this.genresList=[],this.allowedGenres=[],this.allowedCountries=[],this.selectedCountry=[],this.selectedGenres=[],this.genres=s.a,this.genresIDs={},this.genresMaxCount=3,this.countries=p.a,this.countriesIDs={},this.submitURL="artist"}return t.checkText=function(t){return/^[\w\d.-_]{3,30}$/i.test(t.value)?null:{incorrect:!0}},t.checkDescription=function(t){return t.value.length>20&&t.value.length<500?null:{incorrect:!0}},t.prototype.ngOnInit=function(){for(var t in this.genres)this.genres.hasOwnProperty(t)&&(this.genresIDs[this.genres[t]]=parseInt(t,10),this.allowedGenres.push(this.genres[t]));for(var t in this.countries)this.countries.hasOwnProperty(t)&&(this.countriesIDs[this.countries[t]]=parseInt(t,10),this.allowedCountries.push(this.countries[t]))},t.prototype.addGenre=function(t){this.allowedGenres.indexOf(t)>-1&&this.selectedGenres.length<this.genresMaxCount?this.selectedGenres.push(t):this.genresList.splice(this.genresList.indexOf(t),1)},t.prototype.removeGenre=function(t){this.selectedGenres.splice(this.selectedGenres.indexOf(t),1)},t.prototype.rewriteCountry=function(t){this.allowedCountries.indexOf(t)>-1?this.selectedCountry=[t]:this.removeCountry()},t.prototype.removeCountry=function(){this.selectedCountry=[]},t.prototype.submitStage=function(){var t=this;if(this.artistProfileForm.valid&&this.selectedGenres.length&&this.selectedCountry.length){var e=this.artistProfileForm.value;e.genres=[],this.selectedGenres.forEach((function(n){e.genres.push(t.genresIDs[n].toString())})),this.http.post(this.submitURL,e).subscribe((function(e){t.onready.emit(e.text().substring(1,e.text().length-3))}),(function(t){throw console.error(t),new Error("Can't submit artist form (profile section)")})),e.country=this.countriesIDs[this.selectedCountry[0]].toString()}},t})();i.a([n.i(o.Output)(),i.b("design:type",o.EventEmitter)],d.prototype,"onready",void 0),d=l=i.a([n.i(o.Component)({selector:"artist-registration-profile",template:n(1093),styles:[n(1111)]}),i.b("design:paramtypes",[r.FormBuilder,a.a])],d);var l},1030:function(t,e,n){"use strict";var i=n(39),o=n(1),r=n(260);n.d(e,"a",(function(){return a}));var a=(function(){function t(t){this.http=t,this.onready=new o.EventEmitter,this.maxAudioFileSize=10,this.maxImageFileSize=1,this.isLoading=!1,this.URLs={title:"artist/{{artist_id}}/audio",audio:"audio/{{audio_id}}",cover:"audio/{{audio_id}}/image"}}return t.prototype.ngOnInit=function(){this.stateID=0,this.loadingState=1,this.preparedData={},this.agreement=!1,this.title="",this.dragAudioActive=!1,this.dragImageActive=!1,this.audioError="",this.imageError="",this.imageSRC="",this.isLoading=!1,this.audioID="",this.imageID=""},t.prototype.agreementOnChange=function(t){this.agreement=t},t.prototype.changeTitle=function(t){this.title=t},t.prototype.skip=function(){this.onready.emit()},t.prototype.submitStage=function(t){if(t.value.title&&this.preparedData.audio&&this.agreement)switch(this.isLoading=!0,this.preparedData.title=t.value.title,this.loadingState){case 1:this.stage1();break;case 2:this.stage2();break;case 3:this.stage3();break;default:throw new Error("Unexpected stage ID: "+this.loadingState)}},t.prototype.drop=function(t,e){this.dragAudioActive=!1,this.dragImageActive=!1,"image"===e?this.imageDropHandler(t):"audio"===e&&this.audioDropHandler(t),t.stopPropagation(),t.preventDefault()},t.prototype.dragOver=function(t,e){return this["drag"+e+"Active"]=!0,t.dataTransfer.dropEffect="copy",!1},t.prototype.dragLeave=function(){this.dragImageActive=!1,this.dragAudioActive=!1},t.prototype.imageDropHandler=function(t){var e=this;if(this.imageSRC=null,this.imageError=null,t.dataTransfer.files[0].size>1e6*this.maxImageFileSize?this.imageError="File is too big":t.dataTransfer.files[0].type.match(/^image\/(jpeg|jpg|png)/)?1!==t.dataTransfer.files.length&&(this.imageError="You can load only one file"):this.imageError="Invalid file type",!this.imageError){this.preparedData.artwork=t.dataTransfer.files[0];var n=new FileReader;n.readAsDataURL(this.preparedData.artwork),n.onload=function(t){e.imageSRC=t.target.result}}},t.prototype.audioDropHandler=function(t){this.audioError=null,t.dataTransfer.files[0].size>1e6*this.maxAudioFileSize?this.audioError="File is too big":t.dataTransfer.files[0].type.match(/^audio\/(mp3|aac)/)?1!==t.dataTransfer.files.length&&(this.audioError="You can load only one file"):this.audioError="Invalid file type",this.audioError||(this.preparedData.audio=t.dataTransfer.files[0],this.stateID=1)},t.prototype.stage1=function(){var t=this;this.isLoading=!0,this.loadingState=1,this.http.post(this.URLs.title.replace("{{artist_id}}",this.artistID),{title:this.preparedData.title}).subscribe((function(e){if(!e.text())throw t.isLoading=!1,console.error(e),new Error("No audio ID in the server response");console.error(e.text(),e.text().replace(/[↵"]/gi,"")),t.audioID=e.text().replace(/[↵"]/gi,""),t.stage2()}),(function(e){throw t.isLoading=!1,console.error(e),new Error("Can not create new audio by artist ID")}))},t.prototype.stage2=function(){var t=this;this.isLoading=!0,this.loadingState=2;var e=new FormData;e.append("audio_file",this.preparedData.audio,this.preparedData.title),this.http.patch(this.URLs.audio.replace("{{audio_id}}",this.audioID),e,{"Content-Type":"multipart/form-data",Accept:"application/json"}).subscribe((function(e){if(202!==e.status)throw t.isLoading=!1,console.error(e),new Error("Can not upload audio file to the server, status is "+e.status);t.stage3()}),(function(e){throw t.isLoading=!1,console.error(e),new Error("Error during the file uploading")}))},t.prototype.stage3=function(){var t=this;this.isLoading=!0,this.loadingState=3,this.http.post(this.URLs.cover.replace("{{audio_id}}",this.audioID),{title:this.preparedData.title,group:"covers",name:this.preparedData.title+"-cover"},{"Content-Type":"multipart/form-data"}).subscribe((function(e){if(201!==e.status||!e._body)throw t.isLoading=!1,console.error(e),new Error("Invalid response from the server");t.imageID=e._body,t.onready.emit()}),(function(e){throw t.isLoading=!1,console.error(e),new Error("Can not create new image by audio ID "+t.audioID)}))},t})();i.a([n.i(o.Input)(),i.b("design:type",String)],a.prototype,"artistID",void 0),i.a([n.i(o.Output)(),i.b("design:type",Object)],a.prototype,"onready",void 0),a=i.a([n.i(o.Component)({selector:"artist-registration-song",template:n(1094),styles:[n(1112)]}),i.b("design:paramtypes",[r.a])],a)},1031:function(t,e,n){"use strict";var i=n(39),o=n(1),r=n(174);n.d(e,"a",(function(){return a}));var a=(function(){function t(t){this.localStorageService=t,this.keyNameForStageID="artistRegistrationStageID",this.stageID=parseInt(this.localStorageService.getValue(this.keyNameForStageID),10)||0,this.artistID=this.localStorageService.getValue("artistID")}return t.prototype.nextStage=function(t){t&&(this.artistID=t,this.localStorageService.setValue("artistID",t.replace(/[↵"]/gi,""))),this.stageID++,this.stageID<3?this.localStorageService.setValue(this.keyNameForStageID,this.stageID.toString()):this.localStorageService.deleteValue(this.keyNameForStageID)},t})();i.a([n.i(o.Input)(),i.b("design:type",String)],a.prototype,"artistID",void 0),a=i.a([n.i(o.Component)({selector:"artist-registration",template:n(1095),styles:[n(1113)]}),i.b("design:paramtypes",[r.a])],a)},1032:function(t,e,n){"use strict";var i=n(39),o=n(1),r=n(984),a=n(124),s=n(258),p=n(964),d=n(1031),l=n(1029),c=n(1028),u=n(1030),g=n(1027),h=n(1055);n.n(h);n.d(e,"a",(function(){return m}));var f=[{path:"",component:d.a}],m=(function(){function t(){}return t})();m=i.a([n.i(o.NgModule)({imports:[s.a.forChild(f),r.a,a.CommonModule,p.FormsModule,p.ReactiveFormsModule,h.RlTagInputModule],declarations:[d.a,l.a,c.a,u.a,g.a]})],m)},1033:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1032);n.d(e,"ArtistRegistrationModule",(function(){return i.a}))},1055:function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(1058)),i(n(1018))},1056:function(t,e,n){"use strict";var i=n(1),o=n(0),r=n(1019),a=(function(){function t(t){this.elementRef=t,this.selectFirstItem=!1,this.itemSelected=new i.EventEmitter,this.enterPressed=new i.EventEmitter,this.selectedItemIndex=null}return Object.defineProperty(t.prototype,"itemsCount",{get:function(){return this.items?this.items.length:0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.keySubscription=o.Observable.fromEvent(window,"keydown").filter((function(t){return t.keyCode===r.KEYS.upArrow||t.keyCode===r.KEYS.downArrow||t.keyCode===r.KEYS.enter||t.keyCode===r.KEYS.esc})).do((function(e){switch(e.keyCode){case r.KEYS.downArrow:t.handleDownArrow();break;case r.KEYS.upArrow:t.handleUpArrow();break;case r.KEYS.enter:t.selectItem(),t.enterPressed.emit();break;case r.KEYS.esc:}e.stopPropagation(),e.preventDefault()})).subscribe()},t.prototype.ensureHighlightVisible=function(){var t=this.elementRef.nativeElement.querySelector(".sk-select-results__container");if(t){var e=t.querySelectorAll(".sk-select-results__item");if(!(e.length<1||this.selectedItemIndex<0)){var n=e[this.selectedItemIndex];if(n){var i=n.offsetTop+n.clientHeight-t.scrollTop,o=t.offsetHeight;i>o?t.scrollTop+=i-o:i<n.clientHeight&&(t.scrollTop-=n.clientHeight-i)}}}},t.prototype.goToTop=function(){this.selectedItemIndex=0,this.ensureHighlightVisible()},t.prototype.goToBottom=function(t){this.selectedItemIndex=t-1,this.ensureHighlightVisible()},t.prototype.goToNext=function(){this.selectedItemIndex+1<this.itemsCount?this.selectedItemIndex++:this.goToTop(),this.ensureHighlightVisible()},t.prototype.goToPrevious=function(){this.selectedItemIndex-1>=0?this.selectedItemIndex--:this.goToBottom(this.itemsCount),this.ensureHighlightVisible()},t.prototype.handleUpArrow=function(){if(null===this.selectedItemIndex)return this.goToBottom(this.itemsCount),!1;this.goToPrevious()},t.prototype.handleDownArrow=function(){if(null===this.selectedItemIndex)return this.goToTop(),!1;this.goToNext()},t.prototype.selectItem=function(t){var e=t?this.items[t]:this.items[this.selectedItemIndex];e&&this.itemSelected.emit(e)},t.prototype.ngOnChanges=function(t){this.selectFirstItem&&this.itemsCount>0&&this.goToTop()},t.prototype.ngOnDestroy=function(){this.keySubscription.unsubscribe()},t.decorators=[{type:i.Component,args:[{selector:"rl-tag-input-autocomplete",template:'\n    <div\n      *ngFor="let item of items; let itemIndex = index"\n      [ngClass]="{ \'is-selected\': selectedItemIndex === itemIndex }"\n      (click)="selectItem(itemIndex)"\n      class="rl-autocomplete-item">\n      {{item}}\n    </div>\n  ',styles:['\n    :host {\n      box-shadow: 0 1.5px 4px rgba(0, 0, 0, 0.24), 0 1.5px 6px rgba(0, 0, 0, 0.12);\n      display: block;\n      position: absolute;\n      top: 100%;\n      font-family: "Roboto", "Helvetica Neue", sans-serif;\n      font-size: 16px;\n      color: #444444;\n      background: white;\n      padding: 8px 0;\n    }\n\n     :host .rl-autocomplete-item {\n      padding: 0 16px;\n      height: 48px;\n      line-height: 48px;\n    }\n\n     :host .is-selected {\n      background: #eeeeee;\n    }\n  ']}]}],t.ctorParameters=[{type:i.ElementRef}],t.propDecorators={items:[{type:i.Input}],selectFirstItem:[{type:i.Input}],itemSelected:[{type:i.Output}],enterPressed:[{type:i.Output}]},t})();e.TagInputAutocompleteComponent=a},1057:function(t,e,n){"use strict";var i=n(1),o=(function(){function t(){this.tagRemoved=new i.EventEmitter}return Object.defineProperty(t.prototype,"isSelected",{get:function(){return!!this.selected},enumerable:!0,configurable:!0}),t.prototype.removeTag=function(){this.tagRemoved.emit(this.index)},t.decorators=[{type:i.Component,args:[{selector:"rl-tag-input-item",template:'\n    {{text}}\n    <span\n    class="ng2-tag-input-remove"\n    (click)="removeTag()">&times;</span>\n  ',styles:['\n    :host {\n      font-family: "Roboto", "Helvetica Neue", sans-serif;\n      font-size: 16px;\n      height: 32px;\n      line-height: 32px;\n      display: inline-block;\n      background: #e0e0e0;\n      padding: 0 12px;\n      border-radius: 90px;\n      margin-right: 10px;\n      transition: all 0.12s ease-out;\n    }\n\n     :host .ng2-tag-input-remove {\n      background: #a6a6a6;\n      border-radius: 50%;\n      color: #e0e0e0;\n      cursor: pointer;\n      display: inline-block;\n      font-size: 17px;\n      height: 24px;\n      line-height: 24px;\n      margin-left: 6px;\n      margin-right: -6px;\n      text-align: center;\n      width: 24px;\n    }\n\n    :host.ng2-tag-input-item-selected {\n      color: white;\n      background: #0d8bff;\n    }\n\n     :host.ng2-tag-input-item-selected .ng2-tag-input-remove {\n      background: white;\n      color: #0d8bff;\n    }\n  ']}]}],t.ctorParameters=[],t.propDecorators={selected:[{type:i.Input}],text:[{type:i.Input}],index:[{type:i.Input}],tagRemoved:[{type:i.Output}],isSelected:[{type:i.HostBinding,args:["class.ng2-tag-input-item-selected"]}]},t})();e.TagInputItemComponent=o},1058:function(t,e,n){"use strict";var i=n(1),o=n(124),r=n(964);n(433),n(435),n(434);var a=n(1056),s=n(1018),p=n(1057),d=(function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[o.CommonModule,r.FormsModule,r.ReactiveFormsModule],declarations:[a.TagInputAutocompleteComponent,s.TagInputComponent,p.TagInputItemComponent],exports:[s.TagInputComponent]}]}],t.ctorParameters=[],t})();e.RlTagInputModule=d},1059:function(t,e,n){e=t.exports=n(951)(),e.push([t.i,".title{height:58px;padding:0 30px;font:18px/74px Karla,sans-serif}.description{padding:0 30px;font:14px/22px OpenSans,sans-serif;color:#333}.table{margin:23px 0;padding:0 30px;border-top:1px solid #dedede}.table .head,.table .member{display:flex}.table .head{height:47px;border-bottom:1px solid #dedede}.table .name{width:290px}.table .position{width:277px}.table .role{width:133px}.table .head>div{font:12px/48px KarlaBold,sans-serif;letter-spacing:.9px;text-transform:uppercase;color:#9b9b9b}.table .body{padding-bottom:30px}.table .member{height:50px;margin:10px 0 0;padding:15px 0}.table .name img{float:left;width:60px;height:60px;margin:-5px 24px 0 0;border:none;border-radius:50%}.table .name div{width:200px;height:49px;overflow:hidden;text-overflow:ellipsis;font:16px/52px Karla,sans-serif;white-space:nowrap}.table .position input{width:244px;padding:2px 20px 0;background:transparent;font:14px OpenSans,sans-serif;color:#333}.table .position input,.table .role select{display:block;height:49px;box-sizing:border-box;border:1px solid #dbdbdb;border-radius:3px}.table .role select{width:100%;padding:0 30px 0 12px;background:transparent url("+n(1025)+") no-repeat 89%;font:15px/18px Karla,sans-serif;color:#000;-webkit-appearance:none;-moz-appearance:none;cursor:pointer}.table .position input,.table .role select{transition:box-shadow .5s}.table .position input:focus,.table .position input:hover,.table .role select:hover{box-shadow:0 0 3px hsla(0,0%,68%,.49)}.inviteBlock{margin:40px 0 30px;padding:0 30px 32px;box-sizing:border-box;background:#f1f1f1;border-radius:3px}.inviteBlock .header{padding-top:23px;font:15px/18px Karla,sans-serif}.inviteBlock .label{margin:7px 0 13px;font:12px/17px OpenSans,sans-serif;color:#a8b2be}.input{display:flex;height:52px}.input input{width:400px;height:100%;margin-right:15px;padding:0 14px;box-sizing:border-box;background:#fff;border:1px solid #dbdbdb;border-radius:3px;color:#333;font:14px OpenSans,sans-serif;transition:box-shadow .5s}.input button{min-width:150px}",""])},1060:function(t,e,n){e=t.exports=n(951)(),e.push([t.i,".title{height:75px;padding:0 30px;font:18px/72px Karla,sans-serif}.noImage{padding:50px 180px 53px;text-align:center}.noImage>div{min-height:400px;padding-top:200px;box-sizing:border-box;border-radius:2px;border:2px dotted transparent;background:#f1f1f1 url("+n(1020)+") no-repeat center 148px;color:#a8b2be;font:15px/24px OpenSans,sans-serif;transition:border-color .5s}.noImage>div.active{border-color:#9cbeff}.noImage>button{margin-top:29px;background:transparent;border:none;text-decoration:underline;font:14px/19px OpenSans,sans-serif}.noImage .error{display:flex;justify-content:center;align-items:center;height:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:red}.crop .button,.result .button{display:block;height:45px;margin:34px auto 0;padding:10px 5px;border-radius:3px;font:15px/20px Karla,sans-serif;letter-spacing:1.2px}.crop{padding:45px 30px 47px}.crop .imageWrapper{display:flex;justify-content:center;align-items:center;height:401px;margin:0 auto 20px;overflow:hidden}.crop .imageWrapper:empty{background:url("+n(1006)+") no-repeat 50%;background-size:20px}.crop .description{text-align:center;color:#a8b2be;font:14px/20px OpenSans,sans-serif}.crop .link{margin-left:10px;background:transparent;border:none;font-size:14px}.result{padding:46px 180px 57px}.result img{display:block;width:100%;height:400px;border:none;border-radius:3px}.result .controls{margin:23px 0 40px;text-align:center}.result .controls button{margin:0 5px;background:transparent;border:none;font-size:14px;letter-spacing:.2px}",""])},1061:function(t,e,n){e=t.exports=n(951)(),e.push([t.i,".title{height:75px;padding:0 30px;font:18px/74px Karla,sans-serif}.fields{padding:22px 30px 40px}.fields>div{margin-bottom:21px}.name{font:15px/18px Karla,sans-serif}.details{font:12px/30px OpenSans,sans-serif;color:#a8b2be}.fields input,.fields textarea{width:481px;box-sizing:border-box;background:transparent;border:1px solid #dbdbdb;border-radius:3px;font:14px OpenSans,sans-serif;color:#333;transition:border-color .5s}.fields input{height:50px;margin-top:5px;padding:0 15px}.fields textarea{height:190px;margin-top:10px;padding:15px;resize:none}",""])},1062:function(t,e,n){e=t.exports=n(951)(),e.push([t.i,".title{height:75px;padding:0 30px;font:18px/74px Karla,sans-serif}.noAudio{padding:46px 180px 57px;text-align:center}.noAudio>div{min-height:400px;padding-top:200px;box-sizing:border-box;border:2px dotted transparent;font:15px/24px OpenSans,sans-serif;color:#a8b2be;background:#f1f1f1 url("+n(1081)+") no-repeat center 148px;transition:border-color .5s}.noAudio>div.active{border-color:#9cbeff}.noAudio>button{margin-top:28px;background:transparent;border:none;font-size:15px;letter-spacing:.4px}.noAudio .error{display:flex;justify-content:center;align-items:center;height:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:red}.audioInfo{position:relative;display:flex;padding:22px 30px 35px}.audioInfo>.left{width:471px}.audioInfo>.right{width:230px;padding-left:30px;box-sizing:border-box}.subTitle{font:15px/18px Karla,sans-serif;color:#000}.audio{margin:18px 0 26px;padding-left:47px;background:url("+n(1079)+") no-repeat 0}.audio .name{font:14px/19px OpenSans,sans-serif;color:#333}.audio .size{font:12px/17px OpenSans,sans-serif;color:#a8b2be}.audioInfo>.left>input{display:block;width:100%;height:52px;margin:11px 0 34px;padding:0 10px;box-sizing:border-box;border:1px solid #dbdbdb;border-radius:4px;background:transparent;color:#a8b2be;transition:box-shadow .5s;-webkit-box-shadow:0 0 0 30px #fff inset!important}.audioInfo>.left>input:focus{box-shadow:0 0 3px hsla(0,0%,68%,.49)}.subTitle.agreementBlock{display:flex}.subTitle.agreementBlock span{margin-left:8px}.description{margin:7px 0 26px;font:14px/21px OpenSans,sans-serif;color:#a8b2be}.right .dropArea{position:relative;height:200px;margin-top:15px;padding-top:98px;box-sizing:border-box;background:#f1f1f1 url("+n(1020)+") no-repeat center 48px;border-radius:2px;font:13px/20px OpenSans,sans-serif;text-align:center;color:#a8b2be}.right .dropArea img{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;margin:auto}.right .dropArea .error{color:red}",""])},1063:function(t,e,n){e=t.exports=n(951)(),e.push([t.i,".artistRegistration{min-height:100vh;padding-bottom:30px;background:#000 url("+n(1080)+') no-repeat center 0}.header{padding-top:40px}.title{margin-bottom:34px;font:20px/24px Karla,sans-serif;color:#fff;text-align:center}.stages{display:flex;justify-content:center;margin:0 auto}.stages>div{position:relative;width:155px}.stages>div:after{position:absolute;bottom:-34px;left:0;display:block;width:100%;height:12px;background:rgba(242,49,72,.33);content:"";transition:background .5s}.stages>:first-child:after{right:0;left:auto;width:225px;border-radius:3px 0 0 3px}.stages>:last-child:after{width:225px;border-radius:0 3px 3px 0}.stages>div>div{color:#979797}.stages .index{position:relative;width:33px;height:33px;margin:0 auto 12px;box-sizing:border-box;border:1px solid #979797;border-radius:50%;font:18px/32px KarlaBold,sans-serif;text-align:center;transition:background .5s,border-color .5s}.stages .active>div{color:#fff}.stages .done .index{font-size:0;background:url('+n(1085)+') no-repeat 9px}.stages>div:not(:last-child) .index:after{position:absolute;top:0;bottom:0;left:100%;width:123px;height:1px;margin:auto;background:#979797;content:""}.stages .active .index,.stages .active:after{background:#f23148;border-color:#f23148}.stages .name{font:15px/18px KarlaBold,sans-serif;text-align:center;color:#979797}.wrapper{width:760px;margin:54px auto 0;background:#fff;border-radius:2px}.success{height:400px;display:flex;justify-content:center;align-items:center;flex-direction:column}.success span{font:26px/24px Karla,sans-serif}.success a{margin-top:15px;font:16px/20px Karla,sans-serif}',""])},1079:function(t,e,n){t.exports=n.p+"17b3ffbc0499b3eeaa5fa3472a1c72b3.png"},1080:function(t,e,n){t.exports=n.p+"afa4237a84e91ed55d275d503d54f858.jpg"},1081:function(t,e,n){t.exports=n.p+"0e956dc6643b396bfd4bbea2622da6cc.png"},1085:function(t,e,n){t.exports=n.p+"4e12c01de4644d908e9e5e2959ea6e90.png"},1091:function(t,e){t.exports='<div class="title">Members</div>\n<div class="description">Lorem ipsum<br>zxczxc</div>\n<div class="table">\n  <div class="head">\n    <div class="name">Name</div>\n    <div class="position">Position</div>\n    <div class="role">Role</div>\n  </div>\n  <div class="body">\n    <div class="member">\n      <div class="name">\n        <img src="" alt="User avatar" title="User avatar">\n        <div>Herbert Sutton</div>\n      </div>\n      <div class="position">\n        <input type="text" name="position" placeholder="i.e Vocalist, Guitarist">\n      </div>\n      <div class="role">\n        <select name="role">\n          <option value="1">Admin</option>\n          <option value="2">Not an admin</option>\n        </select>\n      </div>\n    </div>\n    <div class="inviteBlock">\n      <div class="header">Add another member</div>\n      <div class="label">Enter the name or e-mail of your band member</div>\n      <div class="input">\n        <input type="text" name="username" placeholder="Name or email address" #username>\n        <button class="button standard red" [disabled]="!username.value">Send invite</button>\n      </div>\n    </div>\n    <button class="button standard red">Complete</button>\n  </div>\n</div>\n'},1092:function(t,e){t.exports='<div class="title">Profile photo</div>\n<div class="body">\n  <div class="noImage" *ngIf="stateID === 0">\n    <div (dragover)="dragOver($event)"\n         (dragend)="dragEnd()"\n         (dragleave)="dragLeave()"\n         (drop)="drop($event)"\n         [class.active]="dragActive">\n      Drag photo here<br>JPG or PNG<br>Maximum {{ maxFileSize }}MB\n      <div class="error" *ngIf="error">{{ error }}</div>\n    </div>\n    <button class="link" (click)="submitStage()">Skip for now</button>\n  </div>\n  <div class="crop" *ngIf="stateID === 1">\n    <div class="imageWrapper"></div>\n    <div class="description">Edit thumbnail by moving and resizing the box.\n      <button class="link" (click)="changeStateID(0)">Upload another photo</button>\n    </div>\n    <button class="button red standard" (click)="crop()">Done editing</button>\n  </div>\n  <div class="result" *ngIf="stateID === 2">\n    <div class="image">\n      <img src="" alt="Profile photo">\n    </div>\n    <div class="controls">\n      <button class="link" (click)="changeStateID(0)">Upload another photo</button>\n      <button class="link" (click)="changeStateID(0)">Remove this photo</button>\n    </div>\n    <button class="button red standard" (click)="submitStage()">Continue</button>\n  </div>\n</div>\n'},1093:function(t,e){t.exports='<div class="title">Profile info</div>\n<div class="fields">\n  <div>\n    <div class="name">Name</div>\n    <div class="details">Your artist profile URL: {{ nameInput.value || \'\' }}</div>\n    <input type="text" name="name" [formControl]="nameField" #nameInput>\n  </div>\n  <div>\n    <div class="name">Genres</div>\n    <div class="details">You can add up to 3 type of genres</div>\n    <rl-tag-input\n      [(ngModel)]="genresList"\n      [addOnBlur]="false"\n      [autocomplete]="true"\n      [autocompleteItems]="allowedGenres"\n      [autocompleteMustMatch]="true"\n      [placeholder]="\'\'"\n      (addTag)="addGenre($event)"\n      (removeTag)="removeGenre($event)"\n      ></rl-tag-input>\n  </div>\n  <div>\n    <div class="name">Country</div>\n    <div class="details">The country of your origin</div>\n    <rl-tag-input\n      [(ngModel)]="selectedCountry"\n      [addOnBlur]="false"\n      [autocomplete]="true"\n      [autocompleteItems]="allowedCountries"\n      [autocompleteMustMatch]="true"\n      [placeholder]="\'\'"\n      (addTag)="rewriteCountry($event)"\n      (removeTag)="removeCountry($event)"\n    ></rl-tag-input>\n  </div>\n  <div>\n    <div class="name">About</div>\n    <textarea name="description" [formControl]="descriptionField"></textarea>\n  </div>\n  <button\n    class="button standard red"\n    [disabled]="\n      nameField.hasError(\'incorrect\')\n      ||\n      descriptionField.hasError(\'incorrect\')\n      ||\n      !selectedGenres.length\n      ||\n      !selectedCountry.length\n    "\n    (click)="submitStage()"\n  >Continue</button>\n</div>\n'},1094:function(t,e){t.exports='<div class="title">Add a song</div>\n<div class="noAudio" *ngIf="stateID === 0">\n  <div\n    (dragover)="dragOver($event, \'Audio\')"\n    (dragleave)="dragLeave()"\n    (drop)="drop($event, \'audio\')"\n    [class.active]="dragAudioActive"\n  >\n    Drag music file here<br>MP3 or AAC<br>Maximum 10MB\n    <div class="error" *ngIf="audioError">{{ audioError }}</div>\n  </div>\n  <button class="link" (click)="skip()">Skip for now</button>\n</div>\n<div class="audioInfo" *ngIf="stateID === 1" [class.loading]="isLoading">\n  <form class="left" #audioForm="ngForm" (ngSubmit)="submitStage(audioForm)">\n    <div class="subTitle">Song file</div>\n    <div class="audio">\n      <div class="name">{{ preparedData.audio.name }}</div>\n      <div class="size">{{ preparedData.audio.size / 1000000 | myToFixed:2 }} MB</div>\n    </div>\n    <div class="subTitle">Song title</div>\n    <input name="title" type="text" (keyup)="changeTitle(title.value)" #title ngModel>\n    <div class="subTitle agreementBlock">\n      <ios-checkbox (onValueChange)="agreementOnChange($event)"></ios-checkbox>\n      <span>I agree with Terms & Conditions</span>\n    </div>\n    <div class="description">You may only upload song that you own, created or have full reproduction rights over. Any unauthorized upload or copyrighted contend will be in violation of terms of use.</div>\n    <button class="button standard red" [disabled]="!agreement || !title.value">Continue</button>\n  </form>\n  <div class="right">\n    <div class="subTitle">Upload song artwork</div>\n    <div class="dropArea"\n      (dragover)="dragOver($event, \'Image\')"\n      (dragleave)="dragLeave()"\n      (drop)="drop($event, \'image\')"\n      [class.active]="dragAudioActive"\n    >\n      <span *ngIf="!imageSRC">\n        Drag song artwork here<br>\n        JPG or PNG<br>\n        200 x 200\n      </span>\n      <img [src]="imageSRC" alt="Artwork for this song" title="Artwork for this song" *ngIf="imageSRC && !imageError">\n      <div class="error" *ngIf="imageError">{{ imageError }}</div>\n    </div>\n  </div>\n  <div class="retry" *ngIf="">\n    <span>Error during the data loading</span>\n    <button class="button red standard" (click)="submitStage(audioForm, loadingState)">Retry</button>\n  </div>\n</div>\n'},1095:function(t,e){t.exports='<user-bar></user-bar>\n<div class="artistRegistration">\n  <div class="header container">\n    <div class="title">We\'ll guide you on creating a new artist profile</div>\n    <div class="stages">\n      <div [class.done]="stageID > 0" [class.active]="stageID === 0">\n        <div class="index">1</div>\n        <div class="name">Profile</div>\n      </div>\n      <div [class.done]="stageID > 1" [class.active]="stageID === 1">\n        <div class="index">2</div>\n        <div class="name">Photo</div>\n      </div>\n      <div [class.done]="stageID > 2" [class.active]="stageID === 2">\n        <div class="index">3</div>\n        <div class="name">Song</div>\n      </div>\n      <div [class.done]="stageID > 3" [class.active]="stageID === 3">\n        <div class="index">4</div>\n        <div class="name">Members</div>\n      </div>\n    </div>\n    <div class="stagesIndicator">\n      <div [class.active]="stageID >= 0"></div>\n      <div [class.active]="stageID > 0"></div>\n      <div [class.active]="stageID > 1"></div>\n      <div [class.active]="stageID > 2"></div>\n    </div>\n  </div>\n  <div class="wrapper">\n    <artist-registration-profile *ngIf="stageID === 0" (onready)="nextStage($event)"></artist-registration-profile>\n    <artist-registration-photo [artistID]="artistID" *ngIf="stageID === 1" (onready)="nextStage()"></artist-registration-photo>\n    <artist-registration-song [artistID]="artistID" *ngIf="stageID === 2" (onready)="nextStage()"></artist-registration-song>\n    <artist-registration-members [artistID]="artistID" *ngIf="stageID === 3" (onready)="nextStage()"></artist-registration-members>\n    <div class="success" *ngIf="stageID > 3">\n      <span>Done!</span>\n      <a class="link" [routerLink]="[\'/\']">go to the main page</a>\n    </div>\n  </div>\n</div>\n'},1109:function(t,e,n){var i=n(1059);t.exports="string"==typeof i?i:i.toString()},1110:function(t,e,n){var i=n(1060);t.exports="string"==typeof i?i:i.toString()},1111:function(t,e,n){var i=n(1061);t.exports="string"==typeof i?i:i.toString()},1112:function(t,e,n){var i=n(1062);t.exports="string"==typeof i?i:i.toString()},1113:function(t,e,n){var i=n(1063);t.exports="string"==typeof i?i:i.toString()}});